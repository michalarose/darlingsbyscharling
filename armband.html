<!DOCTYPE html>
<html lang="da">

<head id="head">

</head>

<body>
    <header id="header">

    </header>
    <section id="single_armband">
        <article>
            <div class="venstre">
                <div class="slideshow-container">
                    <div class="mySlides fade">
                        <div class="numbertext">1 / 2</div>
                        <img class="smykkebillede" data-image>
                    </div>
                    <div classe="mySlides fade">
                        <div class="numbertext">2 / 2</div>
                        <img class="smykkebilledeevt" data-evtimage>
                    </div>
                    <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
                    <a class="next" onclick="plusSlides(1)">&#10095;</a>
                </div>
                <div style="text-align:center">
                    <span class="dot" onclick="currentSlide(1)"></span>
                    <span class="dot" onclick="currentSlide(2)"></span>
                </div>
            </div>
            <div class="hojre">
                <div class="info">
                    <h2 class="navn" data-title></h2>
                    <p class="pris" data-pris></p>
                    <p class="farve" data-farve></p>
                    <p class="storelse" data-str></p>
                    <button class="kurv" type="submit">tilf√∏j til kurv</button>
                </div>
            </div>
        </article>
    </section>
    <footer id="footer"></footer>

    <script src="head.js"></script>
    <script src="header.js"></script>
    <script src="footer.js"></script>
    <script>
        let urlParams = new URLSearchParams(window.location.search);
        let urlID = urlParams.get('id');
        console.log(urlID);

        let jsonUrl = "http://www.michalarose.dk/kea/darlingsbyscharling/wordpress/wp-json/wp/v2/armband/" + urlID;
        let single;

        document.addEventListener("DOMContentLoaded", hentJson);

        async function hentJson() {
            let jsonData = await fetch(jsonUrl);
            single = await jsonData.json();
            console.log(single);

            visSingle();

            function visSingle() {
                document.querySelector("[data-image]").src = single.acf.foto.url;
                if (single.acf.evt_foto != false) {
                    document.querySelector("[data-evtimage]").src = single.acf.evt_foto.url;
                }



                document.querySelector("[data-title]").textContent = single.acf.type;
                document.querySelector("[data-pris]").textContent = single.acf.pris;
                document.querySelector("[data-farve]").textContent = single.acf.farve;
                document.querySelector("[data-str]").textContent = single.acf.str;


            }
        }

    </script>
    <script>
        var slideIndex = 1;
        showSlides(slideIndex);

        function plusSlides(n) {
            showSlides(slideIndex += n);
        }

        function currentSlide(n) {
            showSlides(slideIndex = n);
        }

        function showSlides(n) {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            if (n > slides.length) {
                slideIndex = 1
            }
            if (n < 1) {
                slideIndex = slides.length
            }
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
        }

    </script>
</body>

</html>
